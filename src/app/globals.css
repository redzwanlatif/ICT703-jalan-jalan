@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

/* ============================================================================
   JALAN-JALAN DESIGN SYSTEM
   Playful travel planning experience inspired by the bus mascot
   Official brand colors extracted from logo.png and mascot.png
   ============================================================================ */

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-nunito);
  --font-mono: var(--font-geist-mono);
  --font-display: var(--font-nunito);

  /* ═══════════════════════════════════════════════════════════════════════════
     JALAN-JALAN OFFICIAL BRAND PALETTE
     Extracted from logo.png and mascot.png
     ═══════════════════════════════════════════════════════════════════════════ */

  /* Primary: Terracotta/Rust - warmth, adventure (bus roof & border) */
  --color-jj-terracotta: #C75A3B;
  --color-jj-terracotta-dark: #A84832;
  --color-jj-terracotta-light: #E07050;

  /* Secondary: Sky Blue - freedom, journey (logo background) */
  --color-jj-sky: #7CB9E8;
  --color-jj-sky-dark: #5A9FD4;
  --color-jj-sky-light: #A8D4F5;

  /* Accent: Light Cyan - freshness (bus windows) */
  --color-jj-cyan: #7DD4E4;
  --color-jj-cyan-dark: #5AC0D3;
  --color-jj-cyan-light: #A5E5F0;

  /* Nature: Grass Green - exploration, outdoors */
  --color-jj-green: #389B59;
  --color-jj-green-dark: #2D7D46;
  --color-jj-green-light: #4CB76D;

  /* Neutral: Cream - comfort, warmth (bus body) */
  --color-jj-cream: #F5EDE0;
  --color-jj-cream-dark: #E8DCC8;
  --color-jj-cream-light: #FDF8F2;

  /* Dark: Brown - grounding, outlines */
  --color-jj-brown: #3D1F1A;
  --color-jj-brown-light: #5C3830;

  /* Accent: Navy Blue - trust, depth (mascot eyes) */
  --color-jj-navy: #1E3A8A;
  --color-jj-navy-light: #2B4B9B;

  /* Highlight: Orange/Coral - energy, excitement (accent dot) */
  --color-jj-coral: #E85D3B;
  --color-jj-coral-dark: #C94A2B;

  /* Legacy aliases for compatibility */
  --color-duo-green: var(--color-jj-green);
  --color-duo-green-dark: var(--color-jj-green-dark);
  --color-duo-green-light: var(--color-jj-green-light);
  --color-duo-blue: var(--color-jj-sky);
  --color-duo-blue-dark: var(--color-jj-sky-dark);
  --color-duo-orange: var(--color-jj-terracotta);
  --color-duo-orange-dark: var(--color-jj-terracotta-dark);
  --color-duo-red: var(--color-jj-coral);
  --color-duo-red-dark: var(--color-jj-coral-dark);
  --color-duo-purple: var(--color-jj-navy-light);
  --color-duo-purple-dark: var(--color-jj-navy);
  --color-duo-yellow: #FBBF24;
  --color-duo-pink: #F472B6;

  /* Semantic Colors */
  --color-sidebar-ring: var(--sidebar-ring);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar: var(--sidebar);
  --color-chart-5: var(--chart-5);
  --color-chart-4: var(--chart-4);
  --color-chart-3: var(--chart-3);
  --color-chart-2: var(--chart-2);
  --color-chart-1: var(--chart-1);
  --color-ring: var(--ring);
  --color-input: var(--input);
  --color-border: var(--border);
  --color-destructive: var(--destructive);
  --color-accent-foreground: var(--accent-foreground);
  --color-accent: var(--accent);
  --color-muted-foreground: var(--muted-foreground);
  --color-muted: var(--muted);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-secondary: var(--secondary);
  --color-primary-foreground: var(--primary-foreground);
  --color-primary: var(--primary);
  --color-popover-foreground: var(--popover-foreground);
  --color-popover: var(--popover);
  --color-card-foreground: var(--card-foreground);
  --color-card: var(--card);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --radius-2xl: calc(var(--radius) + 8px);
  --radius-3xl: calc(var(--radius) + 12px);
  --radius-4xl: calc(var(--radius) + 16px);
}

:root {
  --radius: 1rem;

  /* ═══════════════════════════════════════════════════════════════════════════
     JALAN-JALAN LIGHT THEME
     Clean cream/white backgrounds with warm, travel-inspired accents
     ═══════════════════════════════════════════════════════════════════════════ */

  /* Main Background: Warm cream inspired by bus body */
  --background: #FFFDF9;
  --foreground: #3D1F1A;

  /* Cards: Slightly elevated cream */
  --card: #FFFFFF;
  --card-foreground: #3D1F1A;
  --popover: #FFFFFF;
  --popover-foreground: #3D1F1A;

  /* Primary Action: Jalan-Jalan Terracotta (bus roof color) */
  --primary: #C75A3B;
  --primary-foreground: #FFFFFF;

  /* Secondary: Cream tones */
  --secondary: #F5EDE0;
  --secondary-foreground: #3D1F1A;

  /* Muted: Soft cream for subtitles */
  --muted: #F5EDE0;
  --muted-foreground: #8B7355;

  /* Accent: Sky Blue (logo background) */
  --accent: #7CB9E8;
  --accent-foreground: #FFFFFF;
  --destructive: #E85D3B;

  /* Borders & Inputs */
  --border: #E8DCC8;
  --input: #FFFFFF;
  --ring: #C75A3B;

  /* ═══════════════════════════════════════════════════════════════════════════
     JALAN-JALAN OFFICIAL BRAND COLORS
     Based on logo.png and mascot.png
     ═══════════════════════════════════════════════════════════════════════════ */

  /* Terracotta - Primary CTA, Headers, Key Actions (bus roof) */
  --jj-terracotta: #C75A3B;
  --jj-terracotta-dark: #A84832;
  --jj-terracotta-light: #E07050;

  /* Sky Blue - Secondary Actions, Links (logo background) */
  --jj-sky: #7CB9E8;
  --jj-sky-dark: #5A9FD4;
  --jj-sky-light: #A8D4F5;

  /* Cyan - Info, Highlights (bus windows) */
  --jj-cyan: #7DD4E4;
  --jj-cyan-dark: #5AC0D3;
  --jj-cyan-light: #A5E5F0;

  /* Green - Success, Nature, Progress (grass) */
  --jj-green: #389B59;
  --jj-green-dark: #2D7D46;
  --jj-green-light: #4CB76D;

  /* Cream - Backgrounds, Cards (bus body) */
  --jj-cream: #F5EDE0;
  --jj-cream-dark: #E8DCC8;
  --jj-cream-light: #FDF8F2;

  /* Brown - Text, Outlines (mascot outlines) */
  --jj-brown: #3D1F1A;
  --jj-brown-light: #5C3830;

  /* Navy - Trust, Depth (mascot eyes) */
  --jj-navy: #1E3A8A;
  --jj-navy-light: #2B4B9B;

  /* Coral - Alerts, Energy (accent dot) */
  --jj-coral: #E85D3B;
  --jj-coral-dark: #C94A2B;

  /* Legacy duo-* aliases for backward compatibility */
  --duo-green: #389B59;
  --duo-green-dark: #2D7D46;
  --duo-green-light: #4CB76D;
  --duo-blue: #7CB9E8;
  --duo-blue-dark: #5A9FD4;
  --duo-orange: #C75A3B;
  --duo-orange-dark: #A84832;
  --duo-red: #E85D3B;
  --duo-red-dark: #C94A2B;
  --duo-purple: #2B4B9B;
  --duo-purple-dark: #1E3A8A;
  --duo-yellow: #FBBF24;
  --duo-pink: #F472B6;

  /* Neutrals - Text & UI elements */
  --duo-gray: #8B7355;
  --duo-gray-light: #E8DCC8;
  --duo-gray-dark: #5C3830;
  --duo-text-dark: #3D1F1A;
  --duo-text-darker: #2A1512;

  /* Chart colors - Jalan-Jalan palette */
  --chart-1: #389B59;
  --chart-2: #7CB9E8;
  --chart-3: #C75A3B;
  --chart-4: #1E3A8A;
  --chart-5: #E85D3B;

  /* Sidebar */
  --sidebar: #FFFFFF;
  --sidebar-foreground: #3D1F1A;
  --sidebar-primary: #C75A3B;
  --sidebar-primary-foreground: #FFFFFF;
  --sidebar-accent: #F5EDE0;
  --sidebar-accent-foreground: #3D1F1A;
  --sidebar-border: #E8DCC8;
  --sidebar-ring: #C75A3B;
}

.dark {
  /* ═══════════════════════════════════════════════════════════════════════════
     JALAN-JALAN DARK THEME
     Deep brown/navy night mode inspired by mascot colors
     ═══════════════════════════════════════════════════════════════════════════ */

  /* Deep brown background inspired by mascot outlines */
  --background: #1A1210;
  --foreground: #F5EDE0;
  --card: #2A1F1A;
  --card-foreground: #F5EDE0;
  --popover: #2A1F1A;
  --popover-foreground: #F5EDE0;

  /* Primary: Lighter terracotta for dark mode */
  --primary: #E07050;
  --primary-foreground: #1A1210;

  /* Secondary: Dark cream tones */
  --secondary: #3D2A24;
  --secondary-foreground: #F5EDE0;
  --muted: #3D2A24;
  --muted-foreground: #C4A589;

  /* Accent: Lighter sky blue */
  --accent: #A8D4F5;
  --accent-foreground: #1A1210;
  --destructive: #F87171;

  /* Borders */
  --border: #3D2A24;
  --input: #3D2A24;
  --ring: #E07050;

  /* Dark mode Jalan-Jalan brand colors (lightened) */
  --jj-terracotta: #E07050;
  --jj-terracotta-dark: #C75A3B;
  --jj-terracotta-light: #F08B6D;
  --jj-sky: #A8D4F5;
  --jj-sky-dark: #7CB9E8;
  --jj-sky-light: #C5E4FA;
  --jj-cyan: #A5E5F0;
  --jj-cyan-dark: #7DD4E4;
  --jj-cyan-light: #C2EFF7;
  --jj-green: #4CB76D;
  --jj-green-dark: #389B59;
  --jj-green-light: #6FCF89;
  --jj-cream: #F5EDE0;
  --jj-cream-dark: #E8DCC8;
  --jj-navy: #3B5CC4;
  --jj-navy-light: #5078D9;
  --jj-coral: #F87B5B;
  --jj-coral-dark: #E85D3B;

  /* Dark mode legacy duo-* aliases */
  --duo-green: #4CB76D;
  --duo-green-dark: #389B59;
  --duo-green-light: #6FCF89;
  --duo-blue: #A8D4F5;
  --duo-blue-dark: #7CB9E8;
  --duo-orange: #E07050;
  --duo-orange-dark: #C75A3B;
  --duo-red: #F87B5B;
  --duo-red-dark: #E85D3B;
  --duo-yellow: #FCD34D;

  /* Chart colors - Jalan-Jalan dark palette */
  --chart-1: #4CB76D;
  --chart-2: #A8D4F5;
  --chart-3: #E07050;
  --chart-4: #5078D9;
  --chart-5: #F87B5B;

  /* Sidebar dark mode */
  --sidebar: #2A1F1A;
  --sidebar-foreground: #F5EDE0;
  --sidebar-primary: #E07050;
  --sidebar-primary-foreground: #1A1210;
  --sidebar-accent: #3D2A24;
  --sidebar-accent-foreground: #F5EDE0;
  --sidebar-border: #3D2A24;
  --sidebar-ring: #E07050;
}

/* ═══════════════════════════════════════════════════════════════════════════
   HIGH CONTRAST MODE
   Maximizes readability for users with visual impairments
   ═══════════════════════════════════════════════════════════════════════════ */

.high-contrast {
  --background: #FFFFFF;
  --foreground: #000000;
  --card: #FFFFFF;
  --card-foreground: #000000;
  --popover: #FFFFFF;
  --popover-foreground: #000000;

  /* Primary Action: Classic link blue for maximum visibility */
  --primary: #0000EE;
  --primary-foreground: #FFFFFF;

  /* Secondary: Black on white */
  --secondary: #F0F0F0;
  --secondary-foreground: #000000;

  /* Muted: High contrast gray */
  --muted: #F0F0F0;
  --muted-foreground: #000000;

  /* Accent: Classic link blue */
  --accent: #0000EE;
  --accent-foreground: #FFFFFF;
  --destructive: #CC0000;

  /* Borders & Inputs - Strong black borders */
  --border: #000000;
  --input: #FFFFFF;
  --ring: #0000EE;

  /* Override Jalan-Jalan colors for maximum contrast */
  --jj-terracotta: #CC0000;
  --jj-terracotta-dark: #990000;
  --jj-terracotta-light: #FF0000;
  --jj-sky: #0066CC;
  --jj-sky-dark: #004499;
  --jj-sky-light: #0088FF;
  --jj-cyan: #007799;
  --jj-green: #006600;
  --jj-green-dark: #004400;
  --jj-green-light: #008800;
  --jj-cream: #F0F0F0;
  --jj-cream-dark: #CCCCCC;
  --jj-cream-light: #FFFFFF;
  --jj-brown: #000000;
  --jj-brown-light: #333333;
  --jj-navy: #000066;
  --jj-navy-light: #000099;
  --jj-coral: #CC0000;
  --jj-coral-dark: #990000;

  /* Legacy duo-* aliases */
  --duo-green: #006600;
  --duo-green-dark: #004400;
  --duo-blue: #0066CC;
  --duo-orange: #CC0000;
  --duo-red: #CC0000;
  --duo-gray: #333333;
  --duo-gray-light: #CCCCCC;

  /* Charts - high contrast colors */
  --chart-1: #006600;
  --chart-2: #0066CC;
  --chart-3: #CC0000;
  --chart-4: #000066;
  --chart-5: #990099;

  /* Sidebar */
  --sidebar: #FFFFFF;
  --sidebar-foreground: #000000;
  --sidebar-primary: #0000EE;
  --sidebar-primary-foreground: #FFFFFF;
  --sidebar-accent: #F0F0F0;
  --sidebar-accent-foreground: #000000;
  --sidebar-border: #000000;
  --sidebar-ring: #0000EE;
}

/* High contrast + dark mode combination */
.dark.high-contrast {
  --background: #000000;
  --foreground: #FFFFFF;
  --card: #000000;
  --card-foreground: #FFFFFF;
  --popover: #000000;
  --popover-foreground: #FFFFFF;

  /* Primary: Yellow for maximum visibility on dark */
  --primary: #FFFF00;
  --primary-foreground: #000000;

  /* Secondary */
  --secondary: #333333;
  --secondary-foreground: #FFFFFF;

  /* Muted */
  --muted: #333333;
  --muted-foreground: #FFFFFF;

  /* Accent: Cyan for visibility */
  --accent: #00FFFF;
  --accent-foreground: #000000;
  --destructive: #FF0000;

  /* Borders - Strong white borders */
  --border: #FFFFFF;
  --input: #333333;
  --ring: #FFFF00;

  /* Override Jalan-Jalan colors for dark high contrast */
  --jj-terracotta: #FF6644;
  --jj-terracotta-dark: #FF4422;
  --jj-sky: #66CCFF;
  --jj-cyan: #00FFFF;
  --jj-green: #00FF00;
  --jj-green-dark: #00CC00;
  --jj-cream: #333333;
  --jj-cream-dark: #222222;
  --jj-brown: #FFFFFF;
  --jj-brown-light: #CCCCCC;
  --jj-navy: #6666FF;
  --jj-coral: #FF4444;

  /* Charts - high contrast dark colors */
  --chart-1: #00FF00;
  --chart-2: #66CCFF;
  --chart-3: #FF6644;
  --chart-4: #6666FF;
  --chart-5: #FF00FF;

  /* Sidebar dark high contrast */
  --sidebar: #000000;
  --sidebar-foreground: #FFFFFF;
  --sidebar-primary: #FFFF00;
  --sidebar-primary-foreground: #000000;
  --sidebar-accent: #333333;
  --sidebar-accent-foreground: #FFFFFF;
  --sidebar-border: #FFFFFF;
  --sidebar-ring: #FFFF00;
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
    font-family: var(--font-nunito), 'Nunito', system-ui, sans-serif;
    font-weight: 600;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  h1, h2, h3, h4, h5, h6 {
    font-weight: 800;
    letter-spacing: -0.02em;
  }
}

/* ============================================================================
   JALAN-JALAN BUTTON STYLES
   Primary buttons use terracotta, secondary use sky blue
   ============================================================================ */

.duo-btn {
  @apply relative inline-flex items-center justify-center gap-2 font-bold text-lg rounded-2xl px-6 py-3;
  @apply transition-all duration-150 ease-out;
  @apply active:translate-y-1 active:shadow-none;
  box-shadow: 0 4px 0 var(--jj-terracotta-dark, var(--duo-orange-dark));
  background: var(--jj-terracotta, var(--duo-orange));
  color: white;
}

.duo-btn:hover {
  filter: brightness(1.05);
}

.duo-btn:active {
  transform: translateY(4px);
  box-shadow: 0 0 0 var(--jj-terracotta-dark, var(--duo-orange-dark));
}

/* Sky blue secondary button */
.duo-btn-blue {
  background: var(--jj-sky, var(--duo-blue));
  box-shadow: 0 4px 0 var(--jj-sky-dark, var(--duo-blue-dark));
}

/* Green success button */
.duo-btn-green {
  background: var(--jj-green, var(--duo-green));
  box-shadow: 0 4px 0 var(--jj-green-dark, var(--duo-green-dark));
}

/* Coral/Orange accent button */
.duo-btn-orange {
  background: var(--jj-coral, var(--duo-red));
  box-shadow: 0 4px 0 var(--jj-coral-dark, var(--duo-red-dark));
}

/* Navy button for premium/special actions */
.duo-btn-purple {
  background: var(--jj-navy, var(--duo-purple));
  box-shadow: 0 4px 0 var(--jj-navy-light, var(--duo-purple-dark));
}

/* Coral alert button */
.duo-btn-red {
  background: var(--jj-coral, var(--duo-red));
  box-shadow: 0 4px 0 var(--jj-coral-dark, var(--duo-red-dark));
}

.duo-btn-outline {
  background: transparent;
  border: 2px solid var(--duo-gray-light);
  color: var(--duo-blue);
  box-shadow: 0 4px 0 var(--duo-gray-light);
}

.duo-btn-outline:hover {
  background: var(--duo-gray-light);
}

.duo-btn-disabled {
  background: var(--duo-gray-light);
  color: var(--duo-gray);
  box-shadow: 0 4px 0 #CCCCCC;
  cursor: not-allowed;
}

/* Large button variant */
.duo-btn-lg {
  @apply text-xl px-8 py-4 rounded-3xl;
  box-shadow: 0 6px 0 var(--jj-terracotta-dark, var(--duo-orange-dark));
}

.duo-btn-lg:active {
  transform: translateY(6px);
  box-shadow: 0 0 0 var(--jj-terracotta-dark, var(--duo-orange-dark));
}

/* Small button variant */
.duo-btn-sm {
  @apply text-base px-4 py-2 rounded-xl;
  box-shadow: 0 3px 0 var(--jj-terracotta-dark, var(--duo-orange-dark));
}

.duo-btn-sm:active {
  transform: translateY(3px);
  box-shadow: 0 0 0 var(--jj-terracotta-dark, var(--duo-orange-dark));
}

/* ============================================================================
   JALAN-JALAN CARD STYLES
   ============================================================================ */

/* ═══════════════════════════════════════════════════════════════════════════
   JALAN-JALAN CARD SYSTEM
   Clean elevated cards with 3D shadow effect, cream-toned borders
   ═══════════════════════════════════════════════════════════════════════════ */

.duo-card {
  @apply bg-white rounded-3xl border-2 p-6;
  border-color: var(--jj-cream-dark, #E8DCC8);
  box-shadow: 0 4px 0 var(--jj-cream-dark, #E8DCC8);
  transition: transform 0.15s ease, box-shadow 0.15s ease;
  color: var(--jj-brown, #3D1F1A);
}

.duo-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 0 var(--jj-cream-dark, #E8DCC8);
}

.duo-card-interactive {
  @apply cursor-pointer;
}

.duo-card-interactive:active {
  transform: translateY(2px);
  box-shadow: 0 2px 0 var(--jj-cream-dark, #E8DCC8);
}

/* Colored card variants - Jalan-Jalan palette */
.duo-card-green {
  border-color: var(--jj-green, var(--duo-green));
  box-shadow: 0 4px 0 var(--jj-green-dark, var(--duo-green-dark));
}

.duo-card-blue {
  border-color: var(--jj-sky, var(--duo-blue));
  box-shadow: 0 4px 0 var(--jj-sky-dark, var(--duo-blue-dark));
}

.duo-card-orange, .duo-card-terracotta {
  border-color: var(--jj-terracotta, var(--duo-orange));
  box-shadow: 0 4px 0 var(--jj-terracotta-dark, var(--duo-orange-dark));
}

.duo-card-purple, .duo-card-navy {
  border-color: var(--jj-navy, var(--duo-purple));
  box-shadow: 0 4px 0 var(--jj-navy-light, var(--duo-purple-dark));
}

.duo-card-coral {
  border-color: var(--jj-coral, var(--duo-red));
  box-shadow: 0 4px 0 var(--jj-coral-dark, var(--duo-red-dark));
}

.duo-card-cyan {
  border-color: var(--jj-cyan, #7DD4E4);
  box-shadow: 0 4px 0 var(--jj-cyan-dark, #5AC0D3);
}

/* ============================================================================
   JALAN-JALAN PROGRESS BAR
   ============================================================================ */

/* ═══════════════════════════════════════════════════════════════════════════
   JALAN-JALAN PROGRESS BARS
   Uses green for success/completion
   ═══════════════════════════════════════════════════════════════════════════ */

.duo-progress {
  @apply relative h-5 rounded-full overflow-hidden;
  background: var(--jj-cream-dark, #E8DCC8);
}

.duo-progress-bar {
  @apply h-full rounded-full transition-all duration-500 ease-out;
  background: linear-gradient(180deg, var(--jj-green-light, #4CB76D) 0%, var(--jj-green, #389B59) 100%);
}

.duo-progress-bar::after {
  content: '';
  @apply absolute top-1 left-1 right-1 h-2 rounded-full;
  background: linear-gradient(180deg, rgba(255,255,255,0.4) 0%, transparent 100%);
}

/* XP Progress */
.duo-xp-bar {
  @apply relative h-3 rounded-full overflow-hidden;
  background: var(--jj-cream-dark, #E8DCC8);
}

.duo-xp-fill {
  @apply h-full rounded-full;
  background: linear-gradient(90deg, var(--duo-yellow, #FBBF24) 0%, var(--jj-terracotta, #C75A3B) 100%);
}

/* ============================================================================
   JALAN-JALAN STREAK & STATS
   ============================================================================ */

.duo-streak {
  @apply inline-flex items-center gap-2 rounded-2xl font-bold;
  background: linear-gradient(135deg, var(--jj-terracotta, #C75A3B) 0%, var(--jj-coral, #E85D3B) 100%);
  color: white;
}

.duo-streak-flame {
  @apply text-2xl;
  animation: flame-dance 0.5s ease-in-out infinite alternate;
}

@keyframes flame-dance {
  0% { transform: scale(1) rotate(-5deg); }
  100% { transform: scale(1.1) rotate(5deg); }
}

.duo-hearts {
  @apply inline-flex items-center gap-1 rounded-xl font-bold;
  background: var(--jj-coral, #E85D3B);
  color: white;
}

.duo-xp-badge {
  @apply inline-flex items-center gap-1 px-3 py-1.5 rounded-xl font-bold;
  background: var(--duo-yellow, #FBBF24);
  color: var(--jj-brown, #3D1F1A);
}

/* ============================================================================
   JALAN-JALAN MASCOT (BUS) ANIMATIONS
   Use with the mascot.png bus character
   ============================================================================ */

.duo-mascot {
  @apply relative;
  animation: mascot-bounce 2s ease-in-out infinite;
}

@keyframes mascot-bounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-10px); }
}

.duo-mascot-celebrate {
  animation: mascot-celebrate 0.6s ease-out;
}

@keyframes mascot-celebrate {
  0% { transform: scale(1) rotate(0deg); }
  25% { transform: scale(1.2) rotate(-10deg); }
  50% { transform: scale(1.2) rotate(10deg); }
  75% { transform: scale(1.1) rotate(-5deg); }
  100% { transform: scale(1) rotate(0deg); }
}

.duo-mascot-wave {
  animation: mascot-wave 1s ease-in-out infinite;
}

@keyframes mascot-wave {
  0%, 100% { transform: rotate(0deg); }
  25% { transform: rotate(20deg); }
  75% { transform: rotate(-20deg); }
}

/* ============================================================================
   JALAN-JALAN LESSON/WIZARD STYLES
   ============================================================================ */

/* ═══════════════════════════════════════════════════════════════════════════
   JALAN-JALAN WIZARD/LESSON SYSTEM
   Full-screen experience with warm cream tones
   ═══════════════════════════════════════════════════════════════════════════ */

.duo-wizard-container {
  @apply min-h-screen flex flex-col;
  background: var(--jj-cream-light, #FDF8F2);
}

.dark .duo-wizard-container {
  background: linear-gradient(180deg, #1A1210 0%, #2A1F1A 50%, #3D2A24 100%);
}

.duo-wizard-progress {
  @apply fixed top-0 left-0 right-0 h-2 z-50;
  background: var(--jj-cream-dark, #E8DCC8);
}

.duo-wizard-progress-fill {
  @apply h-full transition-all duration-500 ease-out;
  background: var(--jj-green, #389B59);
}

.duo-wizard-content {
  @apply flex-1 flex flex-col items-center px-4 pt-4;
  max-width: 600px;
  margin: 0 auto;
  /* Add padding for the fixed footer + safe area */
  padding-bottom: calc(6rem + env(safe-area-inset-bottom));
  overflow-y: auto;
}

.duo-wizard-title {
  @apply text-3xl md:text-4xl font-extrabold text-center mb-4;
  color: var(--jj-brown, #3D1F1A);
}

.duo-wizard-subtitle {
  @apply text-lg text-center mb-8;
  color: var(--jj-brown-light, #5C3830);
}

.duo-wizard-options {
  @apply w-full space-y-3;
}

.duo-wizard-option {
  @apply w-full flex items-center gap-4 p-4 rounded-2xl border-2 cursor-pointer;
  @apply transition-all duration-150;
  border-color: var(--jj-cream-dark, #E8DCC8);
  background: #FFFFFF;
  box-shadow: 0 4px 0 var(--jj-cream-dark, #E8DCC8);
  color: var(--jj-brown, #3D1F1A);
}

.duo-wizard-option:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 0 var(--jj-cream-dark, #E8DCC8);
}

.duo-wizard-option:active {
  transform: translateY(2px);
  box-shadow: 0 2px 0 var(--jj-cream-dark, #E8DCC8);
}

.duo-wizard-option.selected {
  border-color: var(--jj-terracotta, #C75A3B);
  background: rgba(199, 90, 59, 0.08);
  box-shadow: 0 4px 0 var(--jj-terracotta-dark, #A84832);
}

.duo-wizard-footer {
  @apply fixed bottom-0 left-0 right-0 px-4 pt-4;
  padding-bottom: calc(1rem + env(safe-area-inset-bottom));
  background: #FFFFFF;
  border-top: 2px solid var(--jj-cream-dark, #E8DCC8);
}

.duo-wizard-footer-inner {
  @apply max-w-lg mx-auto flex items-center justify-between gap-4;
}

/* ============================================================================
   JALAN-JALAN BOTTOM NAVIGATION
   ============================================================================ */

/* ═══════════════════════════════════════════════════════════════════════════
   JALAN-JALAN BOTTOM NAVIGATION
   Cream-toned nav bar with terracotta active states
   ═══════════════════════════════════════════════════════════════════════════ */

.duo-bottom-nav {
  @apply fixed bottom-0 left-0 right-0 z-50;
  background: #FFFFFF;
  border-top: 2px solid var(--jj-cream-dark, #E8DCC8);
  padding-bottom: env(safe-area-inset-bottom);
}

.duo-bottom-nav-inner {
  @apply flex items-center py-2 max-w-lg mx-auto;
  gap: 0.25rem;
  padding-left: 0.5rem;
  padding-right: 0.5rem;
}

.duo-nav-item {
  @apply flex flex-col items-center justify-center;
  @apply transition-all duration-200;
  flex: 1;
  min-width: 0;
  padding: 0.5rem 0.125rem;
  gap: 0.25rem;
  border-radius: 0.75rem;
  border: 2px solid transparent;
  position: relative;
  color: var(--jj-brown-light, #5C3830);
  background: transparent;
  transform: scale(1);
  overflow: hidden;
}

.duo-nav-item:hover {
  color: var(--jj-terracotta, #C75A3B);
  transform: scale(1.05);
  background: rgba(199, 90, 59, 0.08);
  border-color: rgba(199, 90, 59, 0.2);
}

.duo-nav-item.active {
  color: var(--jj-terracotta, #C75A3B);
  background: linear-gradient(135deg, rgba(199, 90, 59, 0.15) 0%, rgba(199, 90, 59, 0.25) 100%);
  border-color: var(--jj-terracotta, #C75A3B);
  box-shadow: 0 2px 8px rgba(199, 90, 59, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.2);
  transform: scale(1.05);
}

.duo-nav-item.active::before {
  content: '';
  position: absolute;
  top: -2px;
  left: 50%;
  transform: translateX(-50%);
  width: 30%;
  height: 3px;
  background: var(--jj-terracotta, #C75A3B);
  border-radius: 0 0 4px 4px;
}

.duo-nav-item-icon {
  @apply text-xl;
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1));
  transition: filter 0.2s;
  flex-shrink: 0;
}

.duo-nav-item.active .duo-nav-item-icon {
  filter: drop-shadow(0 2px 4px rgba(199, 90, 59, 0.4));
}

.duo-nav-item-label {
  @apply text-[10px] font-bold;
  letter-spacing: 0.025em;
  text-transform: uppercase;
  transition: all 0.2s;
  text-align: center;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  width: 100%;
  max-width: 100%;
}

/* ============================================================================
   JALAN-JALAN CELEBRATION EFFECTS
   ============================================================================ */

.duo-confetti {
  @apply fixed inset-0 pointer-events-none z-50;
}

.duo-sparkle {
  @apply absolute w-2 h-2 rounded-full;
  animation: sparkle 0.6s ease-out forwards;
}

@keyframes sparkle {
  0% { transform: scale(0) rotate(0deg); opacity: 1; }
  100% { transform: scale(1) rotate(180deg); opacity: 0; }
}

.duo-celebration-text {
  @apply text-4xl font-extrabold text-center;
  animation: celebration-pop 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

@keyframes celebration-pop {
  0% { transform: scale(0); opacity: 0; }
  50% { transform: scale(1.2); }
  100% { transform: scale(1); opacity: 1; }
}

/* ============================================================================
   JALAN-JALAN INPUT STYLES
   ============================================================================ */

/* ═══════════════════════════════════════════════════════════════════════════
   JALAN-JALAN INPUT SYSTEM
   Clean white inputs with warm brown text and terracotta focus
   ═══════════════════════════════════════════════════════════════════════════ */

.duo-input {
  @apply w-full px-4 py-3 text-lg font-semibold rounded-2xl border-2;
  @apply transition-all duration-150;
  @apply focus:outline-none focus:ring-0;
  border-color: var(--jj-cream-dark, #E8DCC8);
  background: #FFFFFF;
  color: var(--jj-brown, #3D1F1A);
}

.duo-input::placeholder {
  color: var(--jj-brown-light, #5C3830);
  opacity: 0.6;
}

.duo-input:focus {
  border-color: var(--jj-terracotta, #C75A3B);
  box-shadow: 0 0 0 3px rgba(199, 90, 59, 0.2);
}

.duo-input-error {
  border-color: var(--jj-coral, #E85D3B);
}

.duo-input-error:focus {
  box-shadow: 0 0 0 3px rgba(232, 93, 59, 0.2);
}

/* ============================================================================
   JALAN-JALAN SLIDER
   ============================================================================ */

.duo-slider {
  @apply relative w-full h-3 rounded-full cursor-pointer;
  background: var(--jj-cream-dark, #E8DCC8);
}

.duo-slider-track {
  @apply absolute h-full rounded-full;
  background: var(--jj-terracotta, #C75A3B);
}

.duo-slider-thumb {
  @apply absolute top-1/2 -translate-y-1/2 w-8 h-8 rounded-full border-4 border-white;
  background: var(--jj-terracotta, #C75A3B);
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  cursor: grab;
}

.duo-slider-thumb:active {
  cursor: grabbing;
  transform: translateY(-50%) scale(1.1);
}

/* ============================================================================
   JALAN-JALAN AVATAR/PROFILE
   ============================================================================ */

.duo-avatar {
  @apply relative rounded-full overflow-hidden border-4;
  border-color: var(--jj-terracotta, #C75A3B);
  box-shadow: 0 4px 0 var(--jj-terracotta-dark, #A84832);
}

.duo-avatar-sm {
  @apply w-10 h-10 border-2;
  box-shadow: 0 2px 0 var(--jj-terracotta-dark, #A84832);
}

.duo-avatar-md {
  @apply w-16 h-16 border-3;
  box-shadow: 0 3px 0 var(--jj-terracotta-dark, #A84832);
}

.duo-avatar-lg {
  @apply w-24 h-24 border-4;
  box-shadow: 0 4px 0 var(--jj-terracotta-dark, #A84832);
}

.duo-avatar-xl {
  @apply w-32 h-32;
  border-width: 5px;
  box-shadow: 0 5px 0 var(--jj-terracotta-dark, #A84832);
}

/* ============================================================================
   JALAN-JALAN LEVEL BADGE
   ============================================================================ */

.duo-level-badge {
  @apply inline-flex items-center justify-center font-extrabold rounded-full;
  background: linear-gradient(135deg, var(--duo-yellow, #FBBF24) 0%, var(--jj-terracotta, #C75A3B) 100%);
  color: white;
  text-shadow: 0 1px 2px rgba(0,0,0,0.2);
}

.duo-level-badge-sm {
  @apply w-6 h-6 text-xs;
}

.duo-level-badge-md {
  @apply w-10 h-10 text-lg;
}

.duo-level-badge-lg {
  @apply w-14 h-14 text-2xl;
}

/* ============================================================================
   JALAN-JALAN TOOLTIP
   ============================================================================ */

.duo-tooltip {
  @apply absolute px-4 py-2 rounded-2xl font-bold text-sm;
  background: var(--foreground);
  color: var(--background);
  box-shadow: 0 4px 15px rgba(0,0,0,0.2);
  z-index: 100;
}

.duo-tooltip::after {
  content: '';
  @apply absolute left-1/2 -translate-x-1/2 w-3 h-3 rotate-45;
  background: var(--foreground);
}

.duo-tooltip-top::after {
  @apply -bottom-1.5;
}

.duo-tooltip-bottom::after {
  @apply -top-1.5;
}

/* ============================================================================
   JALAN-JALAN FLOATING ACTION BUTTON
   ============================================================================ */

.duo-fab {
  @apply fixed right-4 w-14 h-14 rounded-full flex items-center justify-center;
  @apply transition-all duration-200;
  background: var(--jj-terracotta, #C75A3B);
  box-shadow: 0 4px 0 var(--jj-terracotta-dark, #A84832), 0 8px 20px rgba(199, 90, 59, 0.3);
  bottom: calc(5rem + env(safe-area-inset-bottom));
  color: white;
}

.duo-fab:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 0 var(--jj-terracotta-dark, #A84832), 0 12px 25px rgba(199, 90, 59, 0.4);
}

.duo-fab:active {
  transform: translateY(2px);
  box-shadow: 0 2px 0 var(--jj-terracotta-dark, #A84832), 0 4px 10px rgba(199, 90, 59, 0.3);
}

/* ============================================================================
   JALAN-JALAN NOTIFICATION BADGE
   ============================================================================ */

.duo-badge {
  @apply absolute -top-1 -right-1 min-w-5 h-5 px-1.5 flex items-center justify-center;
  @apply rounded-full text-xs font-bold;
  background: var(--jj-coral, #E85D3B);
  color: white;
}

/* ============================================================================
   JALAN-JALAN ACHIEVEMENT/REWARD MODAL
   ============================================================================ */

.duo-reward-overlay {
  @apply fixed inset-0 bg-black/60 flex items-center justify-center z-50;
  animation: fade-in 0.3s ease-out;
}

@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

.duo-reward-modal {
  @apply bg-card rounded-3xl p-8 text-center max-w-sm mx-4;
  animation: reward-pop 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

@keyframes reward-pop {
  0% { transform: scale(0.5); opacity: 0; }
  100% { transform: scale(1); opacity: 1; }
}

.duo-reward-icon {
  @apply mx-auto mb-4 text-6xl;
  animation: icon-bounce 0.6s ease-out 0.2s both;
}

@keyframes icon-bounce {
  0% { transform: scale(0); }
  50% { transform: scale(1.3); }
  100% { transform: scale(1); }
}

/* ============================================================================
   LEGACY ANIMATIONS (kept for compatibility)
   ============================================================================ */

@keyframes float-bounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-8px); }
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

@keyframes ring-fill {
  from { stroke-dashoffset: 283; }
  to { stroke-dashoffset: var(--progress, 0); }
}

@keyframes pulse-glow {
  0%, 100% {
    box-shadow: 0 0 0 0 rgba(199, 90, 59, 0.4);
    transform: scale(1);
  }
  50% {
    box-shadow: 0 0 20px 10px rgba(199, 90, 59, 0);
    transform: scale(1.02);
  }
}

@keyframes scale-up {
  0% { transform: scale(1); }
  50% { transform: scale(1.05); }
  100% { transform: scale(1); }
}

@keyframes glow-pulse {
  0%, 100% { opacity: 0.6; }
  50% { opacity: 1; }
}

@keyframes path-draw {
  0% { stroke-dashoffset: 100%; }
  100% { stroke-dashoffset: 0; }
}

@keyframes bounce-in {
  0% { transform: scale(0.3); opacity: 0; }
  50% { transform: scale(1.05); }
  70% { transform: scale(0.9); }
  100% { transform: scale(1); opacity: 1; }
}

@keyframes slide-up-fade {
  0% { opacity: 0; transform: translateY(10px); }
  100% { opacity: 1; transform: translateY(0); }
}

.animate-float-bounce {
  animation: float-bounce 3s ease-in-out infinite;
}

.animate-shimmer {
  animation: shimmer 2s linear infinite;
  background-size: 200% 100%;
}

.animate-ring-fill {
  animation: ring-fill 1s ease-out forwards;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-scale-up {
  animation: scale-up 0.3s ease-out;
}

.animate-glow-pulse {
  animation: glow-pulse 2s ease-in-out infinite;
}

.animate-path-draw {
  animation: path-draw 1.5s ease-out forwards;
}

.animate-bounce-in {
  animation: bounce-in 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.animate-slide-up-fade {
  animation: slide-up-fade 0.4s ease-out;
}

/* Shimmer Gradient Background */
.shimmer-bg {
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255, 255, 255, 0.4) 50%,
    transparent 100%
  );
  background-size: 200% 100%;
}

/* Quest Glass Effect (updated with Duolingo colors) */
.quest-glass {
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 2px solid var(--border);
  border-radius: 1rem;
}

.dark .quest-glass {
  background: rgba(26, 44, 53, 0.95);
  border: 2px solid var(--border);
}

/* Quest Gradient Overlays (Jalan-Jalan palette) */
.quest-gradient-emerald, .quest-gradient-green {
  background: linear-gradient(135deg, rgba(56, 155, 89, 0.15) 0%, rgba(56, 155, 89, 0.05) 100%);
}

.quest-gradient-blue, .quest-gradient-sky {
  background: linear-gradient(135deg, rgba(124, 185, 232, 0.15) 0%, rgba(124, 185, 232, 0.05) 100%);
}

.quest-gradient-violet, .quest-gradient-navy {
  background: linear-gradient(135deg, rgba(30, 58, 138, 0.15) 0%, rgba(30, 58, 138, 0.05) 100%);
}

.quest-gradient-orange, .quest-gradient-terracotta {
  background: linear-gradient(135deg, rgba(199, 90, 59, 0.15) 0%, rgba(199, 90, 59, 0.05) 100%);
}

.quest-gradient-rose, .quest-gradient-coral {
  background: linear-gradient(135deg, rgba(232, 93, 59, 0.15) 0%, rgba(232, 93, 59, 0.05) 100%);
}

.quest-gradient-cyan {
  background: linear-gradient(135deg, rgba(125, 212, 228, 0.15) 0%, rgba(125, 212, 228, 0.05) 100%);
}

.quest-gradient-cream {
  background: linear-gradient(135deg, rgba(245, 237, 224, 0.3) 0%, rgba(245, 237, 224, 0.1) 100%);
}

/* ============================================================================
   SCROLLBAR STYLING
   ============================================================================ */

::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--muted);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: var(--duo-gray);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--duo-gray-dark);
}

/* ============================================================================
   SAFE AREA PADDING FOR MOBILE
   ============================================================================ */

.safe-bottom {
  padding-bottom: calc(5rem + env(safe-area-inset-bottom));
}

.safe-top {
  padding-top: env(safe-area-inset-top);
}

/* ============================================================================
   60FPS PERFORMANCE OPTIMIZATIONS
   ============================================================================ */

/* GPU acceleration for animated elements */
.duo-card,
.duo-btn,
.duo-wizard-option,
.duo-nav-item,
.duo-mascot {
  transform: translateZ(0);
  backface-visibility: hidden;
}

/* Optimize animations to use GPU */
@media (prefers-reduced-motion: no-preference) {
  .animate-smooth {
    will-change: transform, opacity;
  }
}

/* Reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }

  .duo-mascot,
  .duo-streak-flame {
    animation: none !important;
  }
}

/* Optimize scroll performance */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* Hardware-accelerated scrolling */
.scroll-smooth {
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
}

/* Optimize font rendering */
body {
  text-rendering: optimizeLegibility;
}

/* Containment for better rendering */
.contain-layout {
  contain: layout;
}

.contain-paint {
  contain: paint;
}

.contain-strict {
  contain: strict;
}

/* ═══════════════════════════════════════════════════════════════════════════
   JALAN-JALAN TEXT UTILITIES
   ═══════════════════════════════════════════════════════════════════════════ */

/* Text for colored backgrounds (buttons, badges) - WHITE */
.duo-text-on-color, .jj-text-on-color {
  color: #FFFFFF !important;
}

/* Dark text utilities using brand brown */
.duo-text-dark, .jj-text-dark {
  color: var(--jj-brown, #3D1F1A) !important;
}

.duo-text-darker, .jj-text-darker {
  color: var(--jj-brown, #2A1512) !important;
}

.duo-text-muted, .jj-text-muted {
  color: var(--jj-brown-light, #5C3830) !important;
  opacity: 0.7;
}

/* Brand color text utilities */
.jj-text-terracotta {
  color: var(--jj-terracotta, #C75A3B) !important;
}

.jj-text-sky {
  color: var(--jj-sky, #7CB9E8) !important;
}

.jj-text-green {
  color: var(--jj-green, #389B59) !important;
}

.jj-text-navy {
  color: var(--jj-navy, #1E3A8A) !important;
}

.jj-text-coral {
  color: var(--jj-coral, #E85D3B) !important;
}

/* Tags/badges */
.duo-tag, .jj-tag {
  @apply px-3 py-1 rounded-full text-xs font-bold;
  background: var(--jj-cream, #F5EDE0);
  color: var(--jj-brown, #3D1F1A);
}

.jj-tag-terracotta {
  background: rgba(199, 90, 59, 0.15);
  color: var(--jj-terracotta, #C75A3B);
}

.jj-tag-sky {
  background: rgba(124, 185, 232, 0.2);
  color: var(--jj-sky-dark, #5A9FD4);
}

.jj-tag-green {
  background: rgba(56, 155, 89, 0.15);
  color: var(--jj-green-dark, #2D7D46);
}
